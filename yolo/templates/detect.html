{% extends "index.html" %}
{% load static %}
{% block style %}
<link href="{% static 'css/detect.css' %}" rel="stylesheet">
{% endblock %}
{% block title %}Robo Detect{% endblock %}

{% block sidebar-links %}
<li><a href="/yolo/home">Home</a></li>
<li class="active"><a href="/yolo/detect">Detect</a></li>
{% endblock %}


{% block content %}
<div class="container detect-container">
    <form id="detect-form" action="/yolo/detect" method="post" enctype="multipart/form-data">
        <!-- Security token -->
        {% csrf_token %}
        <div class="form-group">
            {% if error_message %}
            <div class="alert alert-danger alert-dismissible" role="alert" style="text-align: left">
                <span type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></span>
                <strong>Error</strong> {{error_message}}
            </div>
            {% endif %}
            <label for="image-input">Choose image</label>
            <input type="file" name="image" accept="image/*" class="form-control-file" id="image-input"
                   onchange="readURL(this);">
        </div>
        <div class="container image-container">
            <img id="image-preview" src="{{uploaded_file_url}}" alt="your image"/>
        </div>
        <div class="container">
            <button type="submit" class="btn btn-primary btn-lg">Detect</button>
        </div>
    </form>

</div>
{% endblock %}

{% block script %}
<script src="{% static 'js/detect.js' %}"></script>
{% endblock %}

